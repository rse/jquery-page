!function(e){var r=function(e){this.root=e};r.prototype={insert:function(r,t){var a=this;if(2!==arguments.length)throw new Error("invalid number of arguments");if("string"!=typeof r)throw new Error("invalid page id argument (string expected)");return e("> .jquery-page-container",a.root).append(e(t).attr("data-jquery-page-name",r).addClass("jquery-page-disabled")),this},remove:function(r){var t=this;if(1!==arguments.length)throw new Error("invalid number of arguments");if("string"!=typeof r)throw new Error("invalid page id argument (string expected)");var a=e("> .jquery-page-container > *",t.root).filter(function(t,a){return e(a).attr("data-jquery-page-name")===r});if(0===a.length)throw new Error('no such page "'+r+'" found');if(e(a).hasClass("jquery-page-active")){var n=t.existing().filter(function(e){return e!==r});n.length>0&&t.transition(n[0],"none")}return e(a).remove(),this},fetch:function(r){var t=this;if(0===arguments.length)throw new Error("missing page id");if(1===arguments.length&&"string"!=typeof r)throw new Error("invalid page id argument (string expected)");var a=e("> .jquery-page-container > *",t.root).filter(function(t,a){return e(a).attr("data-jquery-page-name")===r});if(a.length>1)throw new Error('more than one page with id "'+r+'" found');return 0===a.length?null:a.get(0)},existing:function(){var r=this;if(0!==arguments.length)throw new Error("invalid number of arguments");var t=[];return e("> .jquery-page-container > *",r.root).each(function(){t.push(e(this).attr("data-jquery-page-name"))}),t},active:function(){var r=this;if(0!==arguments.length)throw new Error("invalid number of arguments");var t=e("> .jquery-page-container > .jquery-page-active",r.root);if(0===t.length)throw new Error("internal error: no active page found");if(t.length>1)throw new Error("internal error: more than one active page found");return t.attr("data-jquery-page-name")},shake:function(r){var t=this;if(arguments.length<0||arguments.length>1)throw new Error("invalid number of arguments (0 or 1 expected)");if(1===arguments.length&&"function"!=typeof r)throw new Error("invalid complete argument (function expected)");var a=e("> .jquery-page-container",t.root),n=e(t.root).width();return e(a).width(n).addClass("jquery-page-shake").one("animationend",function(){e(a).css("width","").removeClass("jquery-page-shake"),"function"==typeof r&&r.call(this)}),this},transition:function(r,t,a){var n=this;if(arguments.length<2||arguments.length>3)throw new Error("invalid number of arguments (2 or 3 expected)");if("string"!=typeof r)throw new Error("invalid page id argument (string expected)");if("string"!=typeof t)throw new Error("invalid transition type argument (string expected)");if(3===arguments.length&&"function"!=typeof a)throw new Error("invalid complete argument (function expected)");var i=e("> .jquery-page-container",n.root),o=e("> .jquery-page-container > .jquery-page-active",n.root);if("none"!==t&&0===o.length)throw new Error("internal error: no active page found");if("none"!==t&&o.length>1)throw new Error("internal error: more than one active page found");var s=e("> .jquery-page-container > *",n.root).filter(function(t,a){return e(a).attr("data-jquery-page-name")===r});if(0===s.length)throw new Error('no such page "'+r+'" found');if(s.length>1)throw new Error('more than one page with id "'+r+'" found');var l,g,u=e(n.root).width(),d=e(n.root).height();if("none"===t)e(o).removeClass("jquery-page-active").addClass("jquery-page-disabled"),e(s).removeClass("jquery-page-disabled").addClass("jquery-page-active"),"function"==typeof a&&a.call(this,r);else if(null!==(l=t.match(/^slide-in-from-(left|right)$/)))g=l[1],e(i).width(2*u).css("left","left"===g?-u:0).addClass("jquery-page-horizontal"),e(o).width(u).addClass("left"===g?"jquery-page-right":"jquery-page-left"),e(s).width(u).addClass("left"===g?"jquery-page-left":"jquery-page-right").removeClass("jquery-page-disabled"),e(i).addClass("jquery-page-slide").css("transform","translate("+("left"===g?"":"-")+u+"px,0)").one("transitionend",function(){e(o).addClass("jquery-page-disabled").removeClass("left"===g?"jquery-page-right":"jquery-page-left").removeClass("jquery-page-active").css("width",""),e(s).removeClass("left"===g?"jquery-page-left":"jquery-page-right").addClass("jquery-page-active").css("width",""),e(i).css("width","").css("transform","").css("left","").removeClass("jquery-page-horizontal").removeClass("jquery-page-slide"),"function"==typeof a&&a.call(this,r)});else if(null!==(l=t.match(/^slide-in-from-(top|bottom)$/)))g=l[1],e(i).height(2*d).css("top","top"===g?-d:0).addClass("jquery-page-vertical"),e(o).addClass("top"===g?"jquery-page-bottom":"jquery-page-top").height(d),e(s).addClass("top"===g?"jquery-page-top":"jquery-page-bottom").removeClass("jquery-page-disabled").height(d),e(i).addClass("jquery-page-slide").css("transform","translate(0,"+("top"===g?"":"-")+d+"px)").one("transitionend",function(){e(o).addClass("jquery-page-disabled").removeClass("top"===g?"jquery-page-bottom":"jquery-page-top").removeClass("jquery-page-active").css("height",""),e(s).removeClass("top"===g?"jquery-page-top":"jquery-page-bottom").addClass("jquery-page-active").css("height",""),e(i).css("height","").removeClass("jquery-page-vertical").removeClass("jquery-page-slide").css("transform","").css("top",0),"function"==typeof a&&a.call(this,r)});else{if(null===(l=t.match(/^flip-towards-(left|right)$/)))throw new Error("invalid transition type");g=l[1],e(i).addClass("jquery-page-stacked").width(u),e(o).addClass("jquery-page-front").width(u),e(s).addClass("jquery-page-back").removeClass("jquery-page-disabled").width(u),e(i).addClass("jquery-page-flip-"+g).one("transitionend",function(){e(o).addClass("jquery-page-disabled").removeClass("jquery-page-front").removeClass("jquery-page-active").css("width",""),e(s).removeClass("jquery-page-back").addClass("jquery-page-active").css("width",""),e(i).css("width","").removeClass("jquery-page-stacked").removeClass("jquery-page-flip-"+g),"function"==typeof a&&a.call(this,r)})}return this}},e.fn.extend({page:function(){var t=null;return this.each(function(){var a=e(this).data("jquery-page-api");if(!a){a=new r(this),e(this).data("jquery-page-api",a).addClass("jquery-page");var n=e("> *",this);if(0===n.length)n=e("<div></div>"),e(this).append(n);else if(1!==n.length)throw new Error("require a single container element under jQuery Page root element");e(n).addClass("jquery-page-container"),e("> *",n).addClass("jquery-page-disabled"),e("> *:first",n).removeClass("jquery-page-disabled").addClass("jquery-page-active")}t=a}),t}})}(jQuery);