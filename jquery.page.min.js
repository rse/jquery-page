!function(a){var b=function(a){this.root=a};b.prototype={insert:function(b,c){var d=this;if(2!==arguments.length)throw new Error("invalid number of arguments");if("string"!=typeof b)throw new Error("invalid page id argument (string expected)");return a("> .jquery-page-container",d.root).append(a(c).attr("data-jquery-page-name",b).addClass("jquery-page-disabled")),this},remove:function(b){var c=this;if(1!==arguments.length)throw new Error("invalid number of arguments");if("string"!=typeof b)throw new Error("invalid page id argument (string expected)");var d=a("> .jquery-page-container > *",c.root).filter(function(c,d){return a(d).attr("data-jquery-page-name")===b});if(0===d.length)throw new Error('no such page "'+b+'" found');if(a(d).hasClass("jquery-page-active")){var e=c.existing().filter(function(a){return a!==b});e.length>0&&c.transition(e[0],"none")}return a(d).remove(),this},fetch:function(b){var c=this;if(0===arguments.length)throw new Error("missing page id");if(1===arguments.length&&"string"!=typeof b)throw new Error("invalid page id argument (string expected)");var d=a("> .jquery-page-container > *",c.root).filter(function(c,d){return a(d).attr("data-jquery-page-name")===b});if(d.length>1)throw new Error('more than one page with id "'+b+'" found');return 0===d.length?null:d.get(0)},existing:function(){var b=this;if(0!==arguments.length)throw new Error("invalid number of arguments");var c=[];return a("> .jquery-page-container > *",b.root).each(function(){c.push(a(this).attr("data-jquery-page-name"))}),c},active:function(){var b=this;if(0!==arguments.length)throw new Error("invalid number of arguments");var c=a("> .jquery-page-container > .jquery-page-active",b.root);if(0===c.length)throw new Error("internal error: no active page found");if(c.length>1)throw new Error("internal error: more than one active page found");return c.attr("data-jquery-page-name")},shake:function(){var b=this;if(0!==arguments.length)throw new Error("invalid number of arguments");var c=a("> .jquery-page-container",b.root),d=a(b.root).width();return a(c).width(d).addClass("jquery-page-shake").one("animationend",function(){a(c).css("width","").removeClass("jquery-page-shake")}),this},transition:function(b,c){var d=this;if(0===arguments.length)throw new Error("missing page id");if(1===arguments.length&&"string"!=typeof b)throw new Error("invalid page id argument (string expected)");if(2===arguments.length&&"string"!=typeof c)throw new Error("invalid transition type argument (string expected)");var e=a("> .jquery-page-container",d.root),f=a("> .jquery-page-container > .jquery-page-active",d.root);if("none"!==c&&0===f.length)throw new Error("internal error: no active page found");if("none"!==c&&f.length>1)throw new Error("internal error: more than one active page found");var g=a("> .jquery-page-container > *",d.root).filter(function(c,d){return a(d).attr("data-jquery-page-name")===b});if(0===g.length)throw new Error('no such page "'+b+'" found');if(g.length>1)throw new Error('more than one page with id "'+b+'" found');var h,i,j=a(d.root).width(),k=a(d.root).height();if("none"===c)a(f).removeClass("jquery-page-active").addClass("jquery-page-disabled"),a(g).removeClass("jquery-page-disabled").addClass("jquery-page-active");else if(null!==(h=c.match(/^slide-in-from-(left|right)$/)))i=h[1],a(e).width(2*j).css("left","left"===i?-j:0).addClass("jquery-page-horizontal"),a(f).width(j).addClass("left"===i?"jquery-page-right":"jquery-page-left"),a(g).width(j).addClass("left"===i?"jquery-page-left":"jquery-page-right").removeClass("jquery-page-disabled"),a(e).addClass("jquery-page-slide").css("transform","translate("+("left"===i?"":"-")+j+"px,0)").one("transitionend",function(){a(f).addClass("jquery-page-disabled").removeClass("left"===i?"jquery-page-right":"jquery-page-left").removeClass("jquery-page-active").css("width",""),a(g).removeClass("left"===i?"jquery-page-left":"jquery-page-right").addClass("jquery-page-active").css("width",""),a(e).css("width","").css("transform","").css("left","").removeClass("jquery-page-horizontal").removeClass("jquery-page-slide")});else if(null!==(h=c.match(/^slide-in-from-(top|bottom)$/)))i=h[1],a(e).height(2*k).css("top","top"===i?-k:0).addClass("jquery-page-vertical"),a(f).addClass("top"===i?"jquery-page-bottom":"jquery-page-top").height(k),a(g).addClass("top"===i?"jquery-page-top":"jquery-page-bottom").removeClass("jquery-page-disabled").height(k),a(e).addClass("jquery-page-slide").css("transform","translate(0,"+("top"===i?"":"-")+k+"px)").one("transitionend",function(){a(f).addClass("jquery-page-disabled").removeClass("top"===i?"jquery-page-bottom":"jquery-page-top").removeClass("jquery-page-active").css("height",""),a(g).removeClass("top"===i?"jquery-page-top":"jquery-page-bottom").addClass("jquery-page-active").css("height",""),a(e).css("height","").removeClass("jquery-page-vertical").removeClass("jquery-page-slide").css("transform","").css("top",0)});else{if(null===(h=c.match(/^flip-towards-(left|right)$/)))throw new Error("invalid transition type");i=h[1],a(e).addClass("jquery-page-stacked").width(j),a(f).addClass("jquery-page-front").width(j),a(g).addClass("jquery-page-back").removeClass("jquery-page-disabled").width(j),a(e).addClass("jquery-page-flip-"+i).one("transitionend",function(){a(f).addClass("jquery-page-disabled").removeClass("jquery-page-front").removeClass("jquery-page-active").css("width",""),a(g).removeClass("jquery-page-back").addClass("jquery-page-active").css("width",""),a(e).css("width","").removeClass("jquery-page-stacked").removeClass("jquery-page-flip-"+i)})}return this}},a.fn.extend({page:function(){var c=null;return this.each(function(){var d=a(this).data("jquery-page-api");if(!d){d=new b(this),a(this).data("jquery-page-api",d).addClass("jquery-page");var e=a("> *",this);if(0===e.length)e=a("<div></div>"),a(this).append(e);else if(1!==e.length)throw new Error("require a single container element under jQuery Page root element");a(e).addClass("jquery-page-container"),a("> *",e).addClass("jquery-page-disabled"),a("> *:first",e).removeClass("jquery-page-disabled").addClass("jquery-page-active")}c=d}),c}})}(jQuery);